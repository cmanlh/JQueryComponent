"use strict";!function(c){function r(e){return e<=9?"0"+e:String(e)}$JqcLoader.importComponents("com.lifeonwalden.jqc",["baseElement","uniqueKey","valHooks"]).importCss($JqcLoader.getCmpParentURL("com.lifeonwalden.jqc","timepicker").concat("css/timepicker.css")).execute(function(){var t={format:"HH:mm:ss",hoursStep:1,hour:"00",minute:"00",second:"00",minutesStep:1,secondsStep:1,lock:!1};c.jqcTimepicker=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(Object.assign(this,t,e),!this.el)throw new Error("timepicker缺少input元素！");this.defaultValue=this.el.value||e.defaultValue||this.format.replace(/[^\:]/g,"0"),this.setValue(this.defaultValue),this.reset(),this.init()},c.jqcTimepicker.prototype.init=function(){this.el.data("jqcInput",this).prop("readOnly",!0).addClass("jqcTimepicker-element"),this.bindEvent()},c.jqcTimepicker.prototype.bindEvent=function(){var t=this;c(document).off("click.jqcTimepicker").on("click.jqcTimepicker",function(){c(".jqcTimepicker-element").removeClass("active"),c.each(c(".jqcTimepicker-element"),function(e,t){c(t).data("jqcInput").confirm()})}),this.el.click(function(e){e.stopPropagation(),c(this).hasClass("active")?t.confirm():(c(document).trigger("click.jqcTimepicker"),c(this).addClass("active"),t.render())}),this.el.blur(function(){t.lock||t.confirm()})},c.jqcTimepicker.prototype.render=function(){var s=this,e=this.el.outerWidth(),n=this.el.outerHeight(),t=this.el.offset().top,i=this.el.offset().left,o=window.innerHeight,r=t+n+4;o<r+190&&(r=t-180-4),this.box=c("<div>").addClass("jqcTimepicker-box").css({width:s.width||e,top:r,left:i}),""===this.el.val()&&this.el.val(this.currentValue),this.container=c("<div>").addClass("jqcTimepicker-container"),this.box.append(this.container),this.onShow&&this.onShow(this.currentValue),c("body").append(this.box),this.box.mouseenter(function(){s.lock=!0}).mouseleave(function(){s.lock=!1}),-1<this.format.indexOf("HH")&&this.renderHoursColumn(),-1<this.format.indexOf("mm")&&this.renderMinutesColumn(),-1<this.format.indexOf("ss")&&this.renderSecondsColumn(),setTimeout(function(){var e=s.container.find(".jqcTimepicker-column").innerWidth();s.container.find("li").css("width",e);s.container.on("click.jqcTimepicker","li",function(e){if(e.stopPropagation(),!c(this).hasClass("disabled")){var t=c(this).parent().data("value");s[t]=c(this).text(),c(this).addClass("active").siblings().removeClass("active"),s.el.trigger("focus");var i=s.format.replace("HH",s.hour).replace("mm",s.minute).replace("ss",s.second);s.setValue(i),console.log(s.lock)}}),c(window).on("scroll.jqcTimepicker",function(e){var t=c(this).scrollTop(),i=s.el.offset().top;s.box.css("top",i+n+4-t)})},0)},c.jqcTimepicker.prototype.renderHoursColumn=function(){var t=this,e=c("<div>").addClass("jqcTimepicker-column");this.container.append(e);var i=c("<ul>").addClass("jqcTimepicker-items");i.data("value","hour"),e.append(i),i.mouseenter(function(){var e=t.format.indexOf("HH");t.el[0].selectionStart=e,t.el[0].selectionEnd=e+2}).mouseleave(function(){t.el[0].selectionStart=0,t.el[0].selectionEnd=0});for(var s=0;s<24;s++){var n=r(s),o=c("<li>").text(n);n==t.hour&&o.addClass("active"),i.append(o)}setTimeout(function(){i.scrollTop(i.find(".active").position().top)})},c.jqcTimepicker.prototype.renderMinutesColumn=function(){var t=this,e=c("<div>").addClass("jqcTimepicker-column");this.container.append(e);var i=c("<ul>").addClass("jqcTimepicker-items");i.data("value","minute"),e.append(i),i.mouseenter(function(){var e=t.format.indexOf("mm");t.el[0].selectionStart=e,t.el[0].selectionEnd=e+2}).mouseleave(function(){t.el[0].selectionStart=0,t.el[0].selectionEnd=0});for(var s=0;s<60;s++){var n=r(s),o=c("<li>").text(n);n==t.minute&&o.addClass("active"),i.append(o)}setTimeout(function(){i.scrollTop(i.find(".active").position().top)})},c.jqcTimepicker.prototype.renderSecondsColumn=function(){var i=this,e=c("<div>").addClass("jqcTimepicker-column");this.container.append(e);var t=c("<ul>").addClass("jqcTimepicker-items");t.data("value","second"),e.append(t),t.mouseenter(function(e){var t=i.format.indexOf("ss");i.el[0].selectionStart=t,i.el[0].selectionEnd=t+2}).mouseleave(function(){i.el[0].selectionStart=0,i.el[0].selectionEnd=0});for(var s=0;s<60;s++){var n=r(s),o=c("<li>").text(n);n==i.second&&o.addClass("active"),t.append(o)}setTimeout(function(){t.scrollTop(t.find(".active").position().top)})},c.jqcTimepicker.prototype.setValue=function(e){this.currentValue=e,-1<this.format.indexOf("HH")&&(this.hour=this.currentValue.substr(this.format.indexOf("HH"),2)),-1<this.format.indexOf("mm")&&(this.minute=this.currentValue.substr(this.format.indexOf("mm"),2)),-1<this.format.indexOf("ss")&&(this.second=this.currentValue.substr(this.format.indexOf("ss"),2)),this.el[0].value=this.currentValue},c.jqcTimepicker.prototype.getValue=function(){return this.currentValue},c.jqcTimepicker.prototype.reset=function(){this.currentValue=this.defaultValue;var e=this.format.indexOf("HH");-1<e&&(this.hour=this.defaultValue.substr(e,2)),-1<(e=this.format.indexOf("mm"))&&(this.minute=this.defaultValue.substr(e,2)),-1<(e=this.format.indexOf("ss"))&&(this.second=this.defaultValue.substr(e,2)),this.el.val(this.currentValue).removeClass("active"),this.box&&this.box.remove()},c.jqcTimepicker.prototype.confirm=function(){this.box&&(this.box.remove(),this.onClose&&this.onClose(this.currentValue)),this.el.removeClass("active")}})}(jQuery);