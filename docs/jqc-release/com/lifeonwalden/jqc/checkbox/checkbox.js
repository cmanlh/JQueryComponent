"use strict";!function(s){$JqcLoader.importComponents("com.lifeonwalden.jqc",["baseElement","valHooks"]).importCss($JqcLoader.getCmpParentURL("com.lifeonwalden.jqc","checkbox").concat("css/checkbox.css")).execute(function(){var i={el:"",type:"checkbox",mode:"single",data:[],disabled:"",required:"",direction:"row",defaultValue:"",trigger:"all",adapter:{label:"label",value:"value"},width:"100%",onChange:null};s.jqcCheckbox=function(e){var a=this,t=Object.assign({label:"label",value:"value"},e.adapter);Object.assign(this,i,e,{adapter:t}),this.currentValue=[],""!==this.el[0].value&&(this.defaultValue=this.el[0].value),"*"==this.defaultValue&&(this.defaultValue=this.data.map(function(e){return e[a.adapter.value]}).join(",")),this.defaultValue||(this.defaultValue=""),this.currentValue=this.defaultValue.toString().split(","),this.init()},s.jqcCheckbox.prototype.init=function(){var r=this;this.el.data("jqcInput",this),this.el.hide().prop("hidden",!0),this.container=s("<div>").addClass("jqcCheckbox-container").addClass(this.type).addClass(this.direction).css({width:this.width}),this.el.after(this.container),this.render(),this.container.on("click",".jqcCheckbox-item>p",function(e){s(this);var a=s(this).parent();if(!a.hasClass("disabled")){a.data("value"),a.data("data");var l=[];"single"==r.mode?a.addClass("active").siblings().removeClass("active"):"multiple"==r.mode&&a.toggleClass("active"),s.each(r.container.find(".jqcCheckbox-item"),function(e,a){var t=s(a),i=t.find("p");"icon"==r.trigger&&(i=i.next());var n=t.data("data");i.empty(),t.hasClass("active")?(l.push(s(a).data("value")),i.append(r._renderLabel(n,!0))):i.append(r._renderLabel(n,!1))}),r.currentValue=l;var t=r.getValue();r.onChange&&r.onChange(t),r.el.trigger("change",t)}})},s.jqcCheckbox.prototype.render=function(){var l=this;this.data.forEach(function(a){var e=s("<div>").addClass("jqcCheckbox-item");(l.el.prop("disabled")||"*"==l.disabled)&&e.addClass("disabled");var t=l.currentValue.filter(function(e){return e==a[l.adapter.value].toString()});t.length&&e.addClass("active"),l.disabled.split(",").filter(function(e){return e==a[l.adapter.value].toString()}).length&&e.addClass("disabled"),e.data("value",a[l.adapter.value].toString()),e.data("data",a);var i=s("<p>").addClass("jqcCheckbox-target");if(e.append(i),"icon"==l.trigger){i.css("margin-right",0);var n=s("<div>").css({"margin-right":20}).append(l._renderLabel(a,!!t.length));e.append(n)}else i.append(l._renderLabel(a,!!t.length));l.container.append(e)})},s.jqcCheckbox.prototype._renderLabel=function(e,a){return"function"==typeof this.adapter.label?this.adapter.label(e,a):e[this.adapter.label]},s.jqcCheckbox.prototype.setValue=function(e){var t=this;this.currentValue=e.split(","),s.each(this.container.find(".jqcCheckbox-item"),function(e,a){s(a).removeClass("active"),-1<t.currentValue.indexOf(s(a).data("value"))&&s(a).addClass("active")})},s.jqcCheckbox.prototype.getValue=function(){return this.currentValue.join(",")}})}(jQuery);